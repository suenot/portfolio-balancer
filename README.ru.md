# Portfolio Balancer (Балансировщик портфеля)

## Описание проекта

Portfolio Balancer - это веб-приложение, предназначенное для визуализации, анализа и балансировки инвестиционного портфеля. Приложение позволяет пользователям:

1. Визуализировать текущую структуру своего инвестиционного портфеля
2. Задать желаемую структуру в процентах (целевое распределение активов)
3. Получить рекомендации по сделкам, необходимым для достижения желаемой структуры
4. Просматривать портфель в разных визуальных представлениях

## Технические особенности

- **Frontend**: Next.js, React, TypeScript, Tailwind CSS
- **Визуализация данных**: 
  - ReactFlow (для древовидных графов)
  - D3.js (для интерактивных визуализаций)
  - Cytoscape.js (для сложных графовых структур)
  - JSON-представление (чистый формат данных)

## Структура данных

Все схемы и визуализации строятся из единого источника данных в формате JSON. Базовая структура выглядит следующим образом:

```typescript
interface AssetNode {
  id: string;
  name: string;
  value: number; // текущая сумма
  quoteId?: string; // идентификатор валюты (USD, RUB и т.д.)
  percentage?: number; // текущий процент от родителя
  desiredPercentage?: number; // желаемый процент от родителя
  diffValue?: number; // разница между текущим и желаемым значением
  children?: AssetNode[]; // дочерние активы
  parentId?: string; // id родительского узла
  operation?: 'buy' | 'sell' | 'hold'; // операция для балансировки
}
```

## Доступные визуализации

Приложение поддерживает следующие типы визуализаций, все они строятся из одного и того же JSON источника:

1. **ReactFlow** - древовидная схема с интерактивными узлами
2. **D3.js** - гибкие интерактивные визуализации
3. **Cytoscape.js** - граф связей между активами
4. **JSON** - просмотр сырых данных в формате JSON

## Функциональность

- Загрузка и редактирование структуры текущего портфеля
- Создание и редактирование целевой структуры портфеля
- Автоматический расчет необходимых действий для балансировки
- Переключение между разными визуальными представлениями
- Представление различий между текущим и целевым портфелями
- Интерактивный анализ структуры портфеля

## Запуск проекта

```bash
# Установка зависимостей
npm install

# Запуск проекта в режиме разработки
npm run dev

# Сборка проекта
npm run build

# Запуск собранного проекта
npm run start
```

## Перспективы развития

- Добавление поддержки импорта данных из брокерских отчетов
- Расширенная аналитика с учетом рисков и доходности
- Оптимизация портфеля на основе различных стратегий
- Интеграция с API для получения актуальных котировок
- Мобильная версия приложения 